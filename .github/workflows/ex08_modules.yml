name: Example 08 - Modules
on: workflow_dispatch

defaults:
  run:
    shell: pwsh

jobs:
  modules:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ¢ Install Pester
        run: Install-PSResource Pester -Version 5.6.0 -Verbose -TrustRepository

      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4

      - name: ğŸ“¦ Install from Required Resources
        run: Install-PSResource -RequiredResourceFile scripts/08_requiredresources.psd1 -Verbose -TrustRepository

      - name: ğŸ“„ Report Installed Modules
        run: |
          Get-Module -ListAvailable
          | Where-Object path -Like "$HOME/.local/share/powershell/Modules*"